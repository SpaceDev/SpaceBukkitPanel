!function(a){a.fn.listnav=function(b){var c=a.extend({},a.fn.listnav.defaults,b),d=["_","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","-"],e=!1;return c.prefixes=a.map(c.prefixes,function(a){return a.toLowerCase()}),this.each(function(){function b(){if(n.append(m()),p=a(".ln-letters",n).slice(0,1),c.showCounts&&(q=a(".ln-letter-count",n).slice(0,1)),g(),j(),c.flagDisabled&&i(),l(),c.includeAll||o.show(),c.includeAll||a(".all",p).remove(),c.includeNums||a("._",p).remove(),c.includeOther||a(".-",p).remove(),a(":last",p).addClass("ln-last"),a.cookie&&null!=c.cookieName){var b=a.cookie(c.cookieName);null!=b&&(c.initLetter=b)}if(""!=c.initLetter)e=!0,a("."+c.initLetter.toLowerCase(),p).slice(0,1).click();else if(c.includeAll)a(".all",p).addClass("ln-selected");else for(var f=c.includeNums?0:1;f<d.length;f++)if(s[d[f]]>0){e=!0,a("."+d[f],p).slice(0,1).click();break}}function f(){q.css({top:a(".a",p).slice(0,1).offset({margin:!1,border:!0}).top-q.outerHeight({margin:!0})})}function g(){var b,d,e,f,g=c.prefixes.length>0;a(o).children().each(function(){f=a(this),d="",b=a.trim(f.text()).toLowerCase(),""!=b&&(g&&(e=b.split(" "),e.length>1&&a.inArray(e[0],c.prefixes)>-1&&(d=e[1].charAt(0),h(d,f,!0))),d=b.charAt(0),h(d,f))})}function h(a,b,c){/\W/.test(a)&&(a="-"),isNaN(a)||(a="_"),b.addClass("ln-"+a),void 0==s[a]&&(s[a]=0),s[a]++,c||t++}function i(){for(var b=0;b<d.length;b++)void 0==s[d[b]]&&a("."+d[b],p).addClass("ln-disabled")}function j(){o.append('<li class="ln-no-match" style="display:none">'+c.noMatchText+"</li>")}function k(b){if(a(b).hasClass("all"))return t;var c=s[a(b).attr("class").split(" ")[0]];return void 0!=c?c:0}function l(){c.showCounts&&n.mouseover(function(){f()}),c.showCounts&&(a("a",p).mouseover(function(){var b=a(this).position().left,c=a(this).outerWidth({margin:!0})-1+"px",d=k(this);q.css({left:b,width:c}).text(d).show()}),a("a",p).mouseout(function(){q.hide()})),a("a",p).click(function(){a("a.ln-selected",p).removeClass("ln-selected");var b=a(this).attr("class").split(" ")[0];if("all"==b)o.children().show(),o.children(".ln-no-match").hide(),u=!0;else{u?(o.children().hide(),u=!1):""!=v&&o.children(".ln-"+v).hide();var d=k(this);d>0?(o.children(".ln-no-match").hide(),o.children(".ln-"+b).show()):o.children(".ln-no-match").show(),v=b}return a.cookie&&null!=c.cookieName&&a.cookie(c.cookieName,b),a(this).addClass("ln-selected"),a(this).blur(),e||null==c.onClick?e=!1:c.onClick(b),!1})}function m(){for(var a=[],b=1;b<d.length;b++)0==a.length&&a.push('<a class="all" href="#">ALL</a><a class="_" href="#">0-9</a>'),a.push('<a class="'+d[b]+'" href="#">'+("-"==d[b]?"...":d[b].toUpperCase())+"</a>");return'<div class="ln-letters">'+a.join("")+"</div>"+(c.showCounts?'<div class="ln-letter-count" style="display:none; position:absolute; top:0; left:0; width:20px;">0</div>':"")}var n,o,p,q,r;r=this.id,n=a("#"+r+"-nav"),o=a(this);var s={},t=0,u=!0,v="";b()})},a.fn.listnav.defaults={initLetter:"",includeAll:!0,incudeOther:!1,includeNums:!0,flagDisabled:!0,noMatchText:"No matching entries",showCounts:!0,cookieName:null,onClick:null,prefixes:[]}}(jQuery);
var supernifty_tristate=function(){function a(){if(void 0!=document.getElementsByClassName)return document.getElementsByClassName("tristate");var a,b=document.getElementsByTagName("*"),c=b.length,d=[];for(a=0;c>a;a++)"tristate"==b[a].className&&d.push(b[a]);return d}var b={image:"./img/tricheck/true.png",state:"yes"},c={image:"./img/tricheck/false.png",state:"no"},d={image:"./img/tricheck/null.png",state:"none"};return{init:function(){var e,f,g=a();for(e=0;e<g.length;e++){var h,i=g[e].attributes.value.value;"yes"==i&&(h=b),"no"==i&&(h=c),"none"==i&&(h=d),f='<img id="'+g[e].id+'_img" src="'+h.image+'" onclick="supernifty_tristate.update(\''+g[e].id+'\')"/><input type="hidden" id="'+g[e].id+'_frm" name="'+g[e].id+'" value="'+h.state+'"/>',g[e].innerHTML=f}},update:function(a){var e,f=$(".row_selected td")[0].textContent,g=$(".row_selected td")[1].textContent,h=document.getElementById(a+"_frm").value;e="yes"==h?c:"no"==h?d:b;var i="./tpermissions/saveGaPPerm/"+f+"/"+g+"/"+a+"/"+e.state;$.ajax({url:i,complete:function(b){console.log(b.responseText),"true"===b.responseText&&(document.getElementById(a+"_img").src=e.image,document.getElementById(a+"_frm").value=e.state)}})}}}(),existing_onload=window.onload;window.onload=function(){void 0!=existing_onload&&existing_onload(),supernifty_tristate.init()};
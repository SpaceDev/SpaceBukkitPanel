$("document").ready(function(){function a(a){divLeftMargin=0,$(".additional-block").each(function(){thisLeftMargin=divLeftMargin+"px",$(this).css("margin-left",thisLeftMargin),divLeftMargin+=a})}defaultWidth=580,transition=500,a(defaultWidth),$(".menu a").each(function(){thisHref=$(this).attr("href"),$(thisHref).length>0&&$(this).addClass("has-child")}),$(".menu a.unloaded").live("click",function(b){b.preventDefault(),$(this).removeClass("unloaded").addClass("loaded"),selectedDiv=$(this).attr("href"),selectedFilter=selectedDiv+"_filter",selectedMenu=selectedDiv+"_menu",selectedLis=selectedMenu+" li",source="./bukget/getPlugins/"+$(this).attr("rel"),ajax_load='<div class="preloader"><div><img src="./img/big_loader.gif" /></div></div>',selectedMargin=$(selectedDiv).css("margin-left"),selectedParent=$(this).parents(".additional-block"),sliderMargin=$(".slider").css("margin-left"),slidingMargin=parseInt(sliderMargin)-defaultWidth+"px",$(selectedMenu).html(ajax_load).load(source,function(){}),$(selectedFilter).keyup(function(){var a=$(this).val();$(selectedLis).each(function(){$(this).text().search(new RegExp(a,"i"))<0?$(this).fadeOut():$(this).show()})}),selectedMargin.length>0&&($(selectedDiv).children(".header").prepend('<span class="back"></span>'),$("span.back").live("click",function(){selectedParent=$(this).parents(".additional-block"),sliderMargin=-(parseInt(selectedParent.css("margin-left"))-defaultWidth)+"px",$(".slider").animate({marginLeft:sliderMargin},transition)}),parseInt(selectedMargin)-defaultWidth>=defaultWidth?(selectedParent.after($(selectedDiv)),a(defaultWidth),$(".slider").animate({marginLeft:slidingMargin},transition)):$(".slider").animate({marginLeft:slidingMargin},transition))}),$(".menu a.loaded").live("click",function(b){b.preventDefault(),selectedDiv=$(this).attr("href"),selectedMargin=$(selectedDiv).css("margin-left"),selectedParent=$(this).parents(".additional-block"),sliderMargin=$(".slider").css("margin-left"),slidingMargin=parseInt(sliderMargin)-defaultWidth+"px",selectedMargin.length>0&&(parseInt(selectedMargin)-defaultWidth>=defaultWidth?(selectedParent.after($(selectedDiv)),a(defaultWidth),$(".slider").animate({marginLeft:slidingMargin},transition)):$(".slider").animate({marginLeft:slidingMargin},transition))}),$(".installer").live("click",function(){var a=$(this).attr("href"),b=$(this);return $(this).addClass("disable"),$.ajax({url:a,success:function(){$(b).removeClass("disable button favorite").addClass("nobutton approve").text("Installed! Reload or Restart to load it.")}}),!1})});